webpackJsonp([18],{BoYI:function(e,t){},wQIW:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Xxa5"),s=a.n(r),n=a("woOf"),o=a.n(n),l=a("exGp"),c=a.n(l),i=a("T+sA"),u=a("mvu0"),d=a("R2SV"),p={name:"userEvaluate",components:{Del:u.a},data:function(){return{search:{},tableData:[],loading:!0,show:!1,current_index:"",current_SID:"",optionsType:d.j}},created:function(){this.getList()},methods:{getList:function(){var e=this;return c()(s.a.mark(function t(){var a,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,a={Action:"GetAppraisementList",GoodsId:e.$route.query.SID},e.search.valueTime&&e.search.valueTime.length>0?(e.search.StartTime=e.search.valueTime[0],e.search.EndTime=e.search.valueTime[1]):(e.search.StartTime="",e.search.EndTime=""),o()(a,e.search),t.next=7,Object(i.a)(a,"MAppraisementOpera");case 7:r=t.sent,e.tableData=r.Data.AppraisementList,e.tableData.forEach(function(e){e.StarClass=Number(e.StarClass),e.IsShow="0"!==e.IsShow}),e.loading=!1,t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),e.$message.error(t.t0),e.loading=!1;case 17:case"end":return t.stop()}},t,e,[[0,13]])}))()},changeShow:function(e,t){var a=this;return c()(s.a.mark(function r(){var n;return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=!0===e?1:0,r.prev=1,r.next=4,Object(i.a)({Action:"SetShow",SID:t.SID,IsShow:n},"MAppraisementOpera");case 4:a.$message.success("修改成功"),r.next=11;break;case 7:r.prev=7,r.t0=r.catch(1),setTimeout(function(){t.IsShow=!t.IsShow},500),a.$message.error(r.t0);case 11:case"end":return r.stop()}},r,a,[[1,7]])}))()},addEvaluate:function(){this.$router.push({path:"/weChat/manager/userEvaluate/info"})},view:function(e){this.$router.push({path:"/weChat/manager/userEvaluate/info",query:{SID:e.SID}})},editRowGoods:function(e,t){this.show=!0,this.current_index=t,this.current_SID=e.SID},delFunction:function(e){this.show=e},confirmEnd:function(){var e=this;return c()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(i.a)({Action:"RemoveAppraisement",SID:e.current_SID},"MAppraisementOpera");case 3:e.show=!1,e.$message.success("删除成功"),e.tableData.splice(e.current_index,1),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),e.show=!1,e.$message.error(t.t0);case 12:case"end":return t.stop()}},t,e,[[0,8]])}))()},searchReply:function(){this.getList()}}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{staticClass:"marginBottom",attrs:{type:"primary",size:"small",disabled:e.loading},on:{click:e.addEvaluate}},[e._v("添加评价\n  ")]),e._v(" "),a("br"),e._v(" "),a("span",[e._v("请选择时间：")]),e._v(" "),a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd HH:mm:ss","default-time":["00:00:00","23:59:59"],"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.search.valueTime,callback:function(t){e.$set(e.search,"valueTime",t)},expression:"search.valueTime"}}),e._v(" "),a("span",{staticStyle:{"margin-left":"20px"}},[e._v("请选择评价类型：")]),e._v(" "),a("el-select",{staticStyle:{"margin-bottom":"15px"},attrs:{placeholder:"请选择"},model:{value:e.search.Type,callback:function(t){e.$set(e.search,"Type",t)},expression:"search.Type"}},e._l(e.optionsType,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value,clearable:""}})}),1),e._v(" "),a("span",{staticStyle:{"margin-left":"20px"}},[e._v("请填入商品id：")]),e._v(" "),a("el-input",{staticStyle:{width:"188px"},attrs:{placeholder:"请输入内容"},model:{value:e.search.GoodsId,callback:function(t){e.$set(e.search,"GoodsId",t)},expression:"search.GoodsId"}}),e._v(" "),a("span",{staticStyle:{"margin-left":"20px"}},[e._v("请填写商品名称：")]),e._v(" "),a("el-input",{staticStyle:{width:"188px"},attrs:{placeholder:"请输入内容"},model:{value:e.search.Name,callback:function(t){e.$set(e.search,"Name",t)},expression:"search.Name"}}),e._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[a("el-button",{staticClass:"marginBottom",attrs:{type:"primary",size:"small",disabled:e.loading},on:{click:e.searchReply}},[e._v("搜索\n    ")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"Name",label:"商品"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.Name))]),e._v(" "),t.row.GoodsId?a("div",[e._v("ID："+e._s(t.row.GoodsId))]):a("div",[e._v("--")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"UserID",label:"操作人ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"OrderId",label:"订单ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.OrderId?a("div",[e._v(e._s(t.row.OrderId))]):a("div",[e._v("--")])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"180",label:"星级"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-rate",{attrs:{disabled:"","text-color":"#ff9900"},model:{value:t.row.StarClass,callback:function(a){e.$set(t.row,"StarClass",a)},expression:"scoped.row.StarClass"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"显示"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{on:{change:function(a){return e.changeShow(a,t.row)}},model:{value:t.row.IsShow,callback:function(a){e.$set(t.row,"IsShow",a)},expression:"scoped.row.IsShow"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"AddTime",label:"添加时间"}}),e._v(" "),a("el-table-column",{attrs:{width:"250",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.editRowGoods(t.row,t.$index)}}},[e._v("删除")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.view(t.row)}}},[e._v("查看(回复)")])]}}])})],1),e._v(" "),a("Del",{attrs:{show:e.show},on:{delFunction:e.delFunction,confirmEnd:e.confirmEnd}})],1)},staticRenderFns:[]};var h=a("VU/8")(p,v,!1,function(e){a("BoYI")},null,null);t.default=h.exports}});
//# sourceMappingURL=18.9f6aa79474b9279bf07e.js.map