{"version":3,"sources":["webpack:///src/view/wechatCard/vipManager/vipGrant.vue","webpack:///./src/view/wechatCard/vipManager/vipGrant.vue?432b","webpack:///./src/view/wechatCard/vipManager/vipGrant.vue?dd89"],"names":["vipGrant","name","components","cardNames","cardList","couponNames","couponList","data","_this","this","form","rules","required","trigger","validator","value","callback","Error","type","valueScreenType","card","ScreenTypeList","id","showProgress","percentage","percentageStatus","time","computed","currentRoute","$route","path","methods","changeValue","val","grant","_this2","$refs","validate","valid","$message","closeAll","showClose","message","duration","setTimeout","vipManager_vipGrant","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","ref","attrs","model","label-width","_e","label","prop","isAll","on","placeholder","$$v","expression","_l","item","key","$set","staticStyle","color","text-inside","stroke-width","status","margin-top","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/23.875f0c38d5021d15985a.js","sourcesContent":["<template>\r\n    <div class=\"vipGrant\">\r\n      <div class=\"vipGrantHead\">\r\n        <h5>{{currentRoute?'发放优惠券':'发放会员卡'}}</h5>\r\n        <span>{{`根据筛选条件给符合条件的用户发放微信${currentRoute?'优惠券':'会员卡'}`}}</span>\r\n      </div>\r\n      <el-form ref=\"form\" :model=\"form\" label-width=\"200px\" :rules=\"rules\">\r\n        <el-form-item label=\"会员卡名称\" prop=\"name\" v-if=\"!currentRoute\">\r\n          <cardNames :isAll=\"false\" @changeValue=\"changeValue\"></cardNames>\r\n        </el-form-item>\r\n        <el-form-item label=\"优惠券名称\" prop=\"name\" v-if=\"currentRoute\">\r\n          <couponNames></couponNames>\r\n        </el-form-item>\r\n        <el-form-item label=\"筛选类型\" prop=\"type\">\r\n<!--          <ScreenType :currentRoute=\"currentRoute\"></ScreenType>-->\r\n          <el-select v-model=\"valueScreenType\" placeholder=\"请选择\">\r\n            <el-option\r\n              v-for=\"item in ScreenTypeList\"\r\n              :key=\"item.id\"\r\n              :label=\"item.name\"\r\n              :value=\"item.id\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"微卡卡号\" prop=\"card\" v-if=\"valueScreenType===2?false:true\">\r\n          <el-input v-model=\"form.card\" placeholder=\"请输入\"></el-input>\r\n          <br>\r\n          <span style=\"color:red\">(多个微卡卡号请用','分开)</span>\r\n        </el-form-item>\r\n        <el-form-item label=\"当前发送进度\" prop=\"type\" v-if=\"showProgress\">\r\n          <el-progress :text-inside=\"true\" :stroke-width=\"30\" :percentage=\"percentage\" :status=\"percentageStatus\"></el-progress>\r\n        </el-form-item>\r\n        <el-footer style=\"margin-top:40px\">\r\n          <el-button type=\"primary\" @click=\"grant\">发放</el-button>\r\n          <el-button type=\"danger\">统计</el-button>\r\n        </el-footer>\r\n      </el-form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport cardNames from '@/components/selector/cardList'\r\n// import ScreenType from '@/components/selector/ScreeningType'\r\nimport couponNames from '@/components/selector/couponList'\r\nexport default {\r\n\tname: \"vipGrant\",\r\n  components:{cardNames,couponNames},\r\n  data(){\r\n\t  return {\r\n      form:{},\r\n      rules:{\r\n        name: [{\r\n            required: true, trigger: 'change', validator: (rules, value, callback) => {\r\n              if(!this.form.name){\r\n                callback(new Error('请选择会员卡名称'))\r\n              }else{\r\n                callback()\r\n              }\r\n            }\r\n          }],\r\n        type: [{\r\n            required: true, trigger: 'change', validator: (rules, value, callback) => {\r\n              if(!this.valueScreenType){\r\n                callback(new Error('请选择筛选类型'))\r\n              }else{\r\n                callback()\r\n              }\r\n            }\r\n          }],\r\n        card: [{\r\n            required: true, trigger: 'blur', validator: (rules, value, callback) => {\r\n              if(!value){\r\n                callback(new Error('请填写微卡卡号'))\r\n              }else{\r\n                callback()\r\n              }\r\n            }\r\n          }],\r\n      },\r\n      ScreenTypeList:[{name:'微卡卡号',id:1},{name:'全部微卡用户',id:2}],\r\n      valueScreenType:'',\r\n      // 是否显示进度条\r\n      showProgress:false,\r\n      percentage:25,\r\n      percentageStatus:null,\r\n      time:0\r\n    }\r\n  },\r\n  computed:{\r\n    currentRoute(){\r\n      // \"优惠劵 =>true  会员卡 => false\"\r\n      return this.$route.path === '/wechatCard/Coupon/grant'|| false\r\n    }\r\n  },\r\n  methods:{\r\n    changeValue(val){\r\n      if(!this.currentRoute){\r\n        this.form.name = val\r\n      }\r\n    },\r\n    grant(){\r\n      this.$refs.form.validate((valid) => {\r\n        if (valid) {\r\n          this.showProgress = true\r\n          this.percentage = 25\r\n          this.percentageStatus = null\r\n          this.$message.closeAll()\r\n          this.$message({\r\n            showClose: true,\r\n            message: '会员卡发送中，请耐心等待...',\r\n            duration:this.time\r\n          });\r\n          // 会员卡发送完毕。。。\r\n          setTimeout(()=>{\r\n            this.percentageStatus = 'success'\r\n            this.percentage = 100\r\n            this.$message.closeAll()\r\n            this.$message({\r\n              showClose: true,\r\n              message: '会员卡发送完毕...',\r\n              type: 'success'\r\n            });\r\n          },3000)\r\n        } else {\r\n          return false;\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n  .vipGrant{\r\n    .vipGrantHead{\r\n      padding:20px;\r\n      background: #fff;\r\n      margin-bottom:20px;\r\n    }\r\n    .el-input,.el-select{\r\n      width:300px;\r\n    }\r\n    .el-progress{\r\n      line-height: 40px;\r\n      width:30% !important;\r\n      min-width:360px;\r\n    }\r\n    .el-progress-bar__outer{\r\n      background-color: #fff;\r\n    }\r\n  }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/wechatCard/vipManager/vipGrant.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vipGrant\"},[_c('div',{staticClass:\"vipGrantHead\"},[_c('h5',[_vm._v(_vm._s(_vm.currentRoute?'发放优惠券':'发放会员卡'))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s((\"根据筛选条件给符合条件的用户发放微信\" + (_vm.currentRoute?'优惠券':'会员卡'))))])]),_vm._v(\" \"),_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"200px\",\"rules\":_vm.rules}},[(!_vm.currentRoute)?_c('el-form-item',{attrs:{\"label\":\"会员卡名称\",\"prop\":\"name\"}},[_c('cardNames',{attrs:{\"isAll\":false},on:{\"changeValue\":_vm.changeValue}})],1):_vm._e(),_vm._v(\" \"),(_vm.currentRoute)?_c('el-form-item',{attrs:{\"label\":\"优惠券名称\",\"prop\":\"name\"}},[_c('couponNames')],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"筛选类型\",\"prop\":\"type\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.valueScreenType),callback:function ($$v) {_vm.valueScreenType=$$v},expression:\"valueScreenType\"}},_vm._l((_vm.ScreenTypeList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1),_vm._v(\" \"),(_vm.valueScreenType===2?false:true)?_c('el-form-item',{attrs:{\"label\":\"微卡卡号\",\"prop\":\"card\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.form.card),callback:function ($$v) {_vm.$set(_vm.form, \"card\", $$v)},expression:\"form.card\"}}),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"(多个微卡卡号请用','分开)\")])],1):_vm._e(),_vm._v(\" \"),(_vm.showProgress)?_c('el-form-item',{attrs:{\"label\":\"当前发送进度\",\"prop\":\"type\"}},[_c('el-progress',{attrs:{\"text-inside\":true,\"stroke-width\":30,\"percentage\":_vm.percentage,\"status\":_vm.percentageStatus}})],1):_vm._e(),_vm._v(\" \"),_c('el-footer',{staticStyle:{\"margin-top\":\"40px\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.grant}},[_vm._v(\"发放\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\"}},[_vm._v(\"统计\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7f0dc3a5\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/wechatCard/vipManager/vipGrant.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7f0dc3a5\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./vipGrant.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./vipGrant.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./vipGrant.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7f0dc3a5\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./vipGrant.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/wechatCard/vipManager/vipGrant.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}