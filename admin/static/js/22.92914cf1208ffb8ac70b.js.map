{"version":3,"sources":["webpack:///src/view/weChatManager/goodsManager/evaluate/evaluateInfo.vue","webpack:///./src/view/weChatManager/goodsManager/evaluate/evaluateInfo.vue?6acb","webpack:///./src/view/weChatManager/goodsManager/evaluate/evaluateInfo.vue?a283"],"names":["evaluateInfo","name","components","imgLoad","mallGoods","data","loading","btnLoading","form","Leves","StarClass","IsShow","optionLeves","utils","optionsType","rules","Type","required","message","trigger","GoodsId","Details","goodsShow","created","this","$route","query","SID","getInfo","computed","current_add","methods","setImg","img","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","Object","vipCard","Action","sent","Data","Appraisement","ImgList","split","Number","t0","$message","error","stop","submitReply","_ref","_this2","$refs","validate","_callee2","valid","obj","i","item","_context2","assign_default","params","id","length","indexOf","replace","join","success","$router","push","abrupt","_x","apply","arguments","upLoadImg","imgs","arr","ti","url","resetForm","formName","resetFields","currentImgs","selectGoods","changeDig","bool","sureGood","row","evaluate_evaluateInfo","render","_vm","_h","$createElement","_c","_self","directives","rawName","value","expression","staticClass","ref","attrs","model","label-width","label","prop","placeholder","callback","$$v","$set","_l","key","_e","_v","_s","Name","staticStyle","margin-left","type","size","on","click","OperatorID","AddTime","rows","margin-top","folder","upLoadImgs","src","alt","onclick","vertical-align","line-height","disabled","disabled-void-color","show-score","text-color","leves","color","$event","isEvaluate","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/22.92914cf1208ffb8ac70b.js","sourcesContent":["<template>\r\n  <div class=\"evaluateInfo\" v-loading=\"loading\">\r\n    <!--    用户评价详情-->\r\n    <el-form ref=\"form\" :model=\"form\" label-width=\"150px\" :rules=\"rules\">\r\n      <el-form-item label=\"评价类型：\" v-if=\"current_add\" prop=\"Type\">\r\n        <el-select v-model=\"form.Type\" placeholder=\"请选择\">\r\n          <el-option\r\n            v-for=\"item in optionsType\"\r\n            :key=\"item.value\"\r\n            :label=\"item.label\"\r\n            :value=\"item.value\"\r\n          ></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"商品名称：\" v-if=\"!current_add\">\r\n        <span>{{form.Name?form.Name:'--'}}</span>\r\n      </el-form-item>\r\n      <el-form-item label=\"商品ID：\" prop=\"GoodsId\">\r\n        <el-input v-model=\"form.GoodsId\" placeholder=\"请添加商品ID\" v-if=\"current_add\"></el-input>\r\n        <span v-else>{{form.GoodsId?form.GoodsId:'--'}}</span>\r\n\r\n        <el-button\r\n          v-if=\"current_add\"\r\n          type=\"primary\"\r\n          style=\"margin-left:10px\"\r\n          size=\"medium\"\r\n          @click=\"selectGoods\"\r\n        >...</el-button>\r\n      </el-form-item>\r\n      <el-form-item label=\"操作人ID：\" v-if=\"!current_add\">\r\n        <span v-if=\"form.OperatorID\">{{form.OperatorID}}</span>\r\n        <span v-else>--</span>\r\n      </el-form-item>\r\n      <el-form-item label=\"添加时间：\" v-if=\"!current_add\">{{form.AddTime}}</el-form-item>\r\n      <el-form-item label=\"评价内容：\" prop=\"Details\">\r\n        <div v-if=\"!current_add\">\r\n          <span v-if=\"form.Details\">{{form.Details}}</span>\r\n          <br />\r\n          <div v-if=\"form.ImgList.length>0\">\r\n          <div class=\"DetailsImg\" v-for=\"img in form.ImgList\" :key=\"img\">\r\n            <img :src=\"setImg(img)\" alt onclick=\"window.open()\" />\r\n          </div>\r\n          </div>\r\n        </div>\r\n        <div v-else>\r\n          <el-input\r\n            v-if=\"current_add\"\r\n            type=\"textarea\"\r\n            :rows=\"3\"\r\n            placeholder=\"请输入内容\"\r\n            v-model=\"form.Details\"\r\n          ></el-input>\r\n          <imgLoad style=\"margin-top:10px\" @upLoadImgs=\"upLoadImg\" folder=\"TicketImg\" ref=\"imgLoad\"></imgLoad>\r\n        </div>\r\n        <!--        <img src=\"../../../../assets/img/pin1.jpg\" alt=\"\">-->\r\n      </el-form-item>\r\n      <el-form-item label=\"星级：\" style=\"vertical-align: middle\">\r\n        <el-rate\r\n          style=\"line-height: 2.5;\"\r\n          v-model=\"form.StarClass\"\r\n          :disabled=\"!current_add\"\r\n          disabled-void-color=\"#C0C4CC\"\r\n          show-score\r\n          text-color=\"#ff9900\"\r\n        ></el-rate>\r\n      </el-form-item>\r\n      <el-form-item label=\"回复评价内容：\" prop=\"Reply\">\r\n        <el-input type=\"textarea\" :rows=\"3\" placeholder=\"请输入内容\" v-model=\"form.Reply\"></el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"评价置顶级别：\">\r\n        <el-select v-model=\"form.Leves\" placeholder=\"请选择\">\r\n          <el-option\r\n            v-for=\"item in optionLeves\"\r\n            :key=\"item.leves\"\r\n            :label=\"item.name\"\r\n            :value=\"item.leves\"\r\n          ></el-option>\r\n        </el-select>\r\n        <div style=\"color:#999\">级别一样的按时间顺序排序</div>\r\n      </el-form-item>\r\n      <el-form-item label=\"默认显示：\">\r\n        <el-radio v-model=\"form.IsShow\" label=\"1\">开启</el-radio>\r\n        <el-radio v-model=\"form.IsShow\" label=\"0\">关闭</el-radio>\r\n      </el-form-item>\r\n      <el-form-item style=\"margin-top:30px\">\r\n        <el-button type=\"primary\" @click=\"submitReply\" :loading=\"btnLoading\">提交</el-button>\r\n        <el-button @click=\"resetForm('form')\" v-if=\"current_add\">重置</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <mall-goods\r\n      :goodsShow=\"goodsShow\"\r\n      @changeDig=\"changeDig\"\r\n      @sureGood=\"sureGood\"\r\n      :isEvaluate=\"true\"\r\n    ></mall-goods>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getLists } from \"@/api/vipCard\";\r\nimport imgLoad from \"@/components/download/imgLoad\";\r\nimport mallGoods from \"@/components/Dialog/mallGoods\";\r\nimport { optionLeves, optionsType } from \"@/config/utils\";\r\n\r\nexport default {\r\n  name: \"evaluateInfo\",\r\n  components: { imgLoad, mallGoods },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      btnLoading: false,\r\n      form: {\r\n        // ImgList: ['http://localhost:8080/static/img/cardlogo.c62c92c.jpg', 'http://localhost:8080/static/img/pin1.a007f84.jpg'],\r\n        // Details: 'hjghjhg'\r\n        Leves: \"1\",\r\n        StarClass: 5,\r\n        IsShow: \"1\"\r\n      },\r\n      optionLeves: optionLeves,\r\n      optionsType: optionsType,\r\n      rules: {\r\n        Type: [\r\n          { required: true, message: \"请选择评价类型\", trigger: \"change\" }\r\n        ],\r\n        GoodsId: [{ required: true, message: \"请选择商品ID\", trigger: \"blur\" }],\r\n        Details: [{ required: true, message: \"请填写评价\", trigger: \"blur\" }]\r\n      },\r\n      goodsShow: false\r\n    };\r\n  },\r\n  created() {\r\n    if (this.$route.query.SID) {\r\n      this.getInfo();\r\n    }\r\n  },\r\n  computed: {\r\n    current_add() {\r\n      return !this.$route.query.SID || false;\r\n    }\r\n  },\r\n  methods: {\r\n    setImg(img) {\r\n      return process.env.Prefix + img;\r\n    },\r\n    async getInfo() {\r\n      try {\r\n        this.loading = true;\r\n        let data = await getLists(\r\n          { Action: \"GetAppraisement\", SID: this.$route.query.SID },\r\n          \"MAppraisementOpera\"\r\n        );\r\n        // console.log(data.Data.Appraisement)\r\n        this.form = data.Data.Appraisement;\r\n        this.form.ImgList = this.form.ImgList\r\n          ? this.form.ImgList.split(\",\")\r\n          : [];\r\n        this.form.StarClass = Number(this.form.StarClass);\r\n      } catch (e) {\r\n        this.$message.error(e);\r\n      }\r\n      this.loading = false;\r\n    },\r\n    submitReply() {\r\n      this.btnLoading = true;\r\n      // console.log(this.form, 8888);\r\n      this.$refs.form.validate(async valid => {\r\n        if (valid) {\r\n          let obj = {};\r\n          Object.assign(obj, { Action: \"SetAppraisement\" });\r\n          Object.assign(obj, { SID: this.$route.params.id });\r\n          Object.assign(obj, { Type: this.form.Type });\r\n          Object.assign(obj, this.form);\r\n\r\n          if (obj.ImgList) {\r\n            if (obj.ImgList.length > 0) {\r\n              for (let i = 0; i < obj.ImgList.length; i++) {\r\n                let item = obj.ImgList[i];\r\n                obj.ImgList[i] =\r\n                  item.indexOf(process.env.Prefix) !== -1\r\n                    ? item.replace(process.env.Prefix, \"\")\r\n                    : item;\r\n              }\r\n            }\r\n            if (typeof obj.ImgList !== \"string\") {\r\n              obj.ImgList = obj.ImgList.join(\",\");\r\n            }\r\n          }\r\n          try {\r\n            await getLists(obj, \"MAppraisementOpera\");\r\n            this.$message.success(\"提交成功\");\r\n            this.btnLoading = false;\r\n            this.$router.push('/weChat/manager/userEvaluate/index')\r\n          } catch (e) {\r\n            this.$message.error(e);\r\n            this.btnLoading = false;\r\n          }\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    upLoadImg(imgs) {\r\n      let arr = [];\r\n      let ti = imgs;\r\n      for (let i = 0; i < ti.length; i++) {\r\n        arr.push(ti[i].url);\r\n      }\r\n      this.form.ImgList = arr;\r\n    },\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields();\r\n      this.$refs.imgLoad.currentImgs = [];\r\n      this.form.ImgList = \"\";\r\n      this.form.StarClass = 5;\r\n      this.form.Leves = \"1\";\r\n    },\r\n    selectGoods() {\r\n      this.goodsShow = true;\r\n    },\r\n    changeDig(bool) {\r\n      this.goodsShow = bool;\r\n    },\r\n    sureGood(row) {\r\n      this.form.GoodsId = row.SID;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.evaluateInfo {\r\n  .el-textarea,\r\n  .el-select,\r\n  .el-input {\r\n    width: 300px;\r\n  }\r\n\r\n  .DetailsImg {\r\n    width: 150px;\r\n    height: 150px;\r\n    overflow: hidden;\r\n    margin-top: 13px;\r\n    border: 1px solid #fff;\r\n    display: inline-block;\r\n    position: relative;\r\n\r\n    img {\r\n      object-fit: cover;\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/weChatManager/goodsManager/evaluate/evaluateInfo.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"evaluateInfo\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"150px\",\"rules\":_vm.rules}},[(_vm.current_add)?_c('el-form-item',{attrs:{\"label\":\"评价类型：\",\"prop\":\"Type\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.form.Type),callback:function ($$v) {_vm.$set(_vm.form, \"Type\", $$v)},expression:\"form.Type\"}},_vm._l((_vm.optionsType),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1):_vm._e(),_vm._v(\" \"),(!_vm.current_add)?_c('el-form-item',{attrs:{\"label\":\"商品名称：\"}},[_c('span',[_vm._v(_vm._s(_vm.form.Name?_vm.form.Name:'--'))])]):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品ID：\",\"prop\":\"GoodsId\"}},[(_vm.current_add)?_c('el-input',{attrs:{\"placeholder\":\"请添加商品ID\"},model:{value:(_vm.form.GoodsId),callback:function ($$v) {_vm.$set(_vm.form, \"GoodsId\", $$v)},expression:\"form.GoodsId\"}}):_c('span',[_vm._v(_vm._s(_vm.form.GoodsId?_vm.form.GoodsId:'--'))]),_vm._v(\" \"),(_vm.current_add)?_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"primary\",\"size\":\"medium\"},on:{\"click\":_vm.selectGoods}},[_vm._v(\"...\")]):_vm._e()],1),_vm._v(\" \"),(!_vm.current_add)?_c('el-form-item',{attrs:{\"label\":\"操作人ID：\"}},[(_vm.form.OperatorID)?_c('span',[_vm._v(_vm._s(_vm.form.OperatorID))]):_c('span',[_vm._v(\"--\")])]):_vm._e(),_vm._v(\" \"),(!_vm.current_add)?_c('el-form-item',{attrs:{\"label\":\"添加时间：\"}},[_vm._v(_vm._s(_vm.form.AddTime))]):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"评价内容：\",\"prop\":\"Details\"}},[(!_vm.current_add)?_c('div',[(_vm.form.Details)?_c('span',[_vm._v(_vm._s(_vm.form.Details))]):_vm._e(),_vm._v(\" \"),_c('br'),_vm._v(\" \"),(_vm.form.ImgList.length>0)?_c('div',_vm._l((_vm.form.ImgList),function(img){return _c('div',{key:img,staticClass:\"DetailsImg\"},[_c('img',{attrs:{\"src\":_vm.setImg(img),\"alt\":\"\",\"onclick\":\"window.open()\"}})])}),0):_vm._e()]):_c('div',[(_vm.current_add)?_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":3,\"placeholder\":\"请输入内容\"},model:{value:(_vm.form.Details),callback:function ($$v) {_vm.$set(_vm.form, \"Details\", $$v)},expression:\"form.Details\"}}):_vm._e(),_vm._v(\" \"),_c('imgLoad',{ref:\"imgLoad\",staticStyle:{\"margin-top\":\"10px\"},attrs:{\"folder\":\"TicketImg\"},on:{\"upLoadImgs\":_vm.upLoadImg}})],1)]),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"vertical-align\":\"middle\"},attrs:{\"label\":\"星级：\"}},[_c('el-rate',{staticStyle:{\"line-height\":\"2.5\"},attrs:{\"disabled\":!_vm.current_add,\"disabled-void-color\":\"#C0C4CC\",\"show-score\":\"\",\"text-color\":\"#ff9900\"},model:{value:(_vm.form.StarClass),callback:function ($$v) {_vm.$set(_vm.form, \"StarClass\", $$v)},expression:\"form.StarClass\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"回复评价内容：\",\"prop\":\"Reply\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":3,\"placeholder\":\"请输入内容\"},model:{value:(_vm.form.Reply),callback:function ($$v) {_vm.$set(_vm.form, \"Reply\", $$v)},expression:\"form.Reply\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"评价置顶级别：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.form.Leves),callback:function ($$v) {_vm.$set(_vm.form, \"Leves\", $$v)},expression:\"form.Leves\"}},_vm._l((_vm.optionLeves),function(item){return _c('el-option',{key:item.leves,attrs:{\"label\":item.name,\"value\":item.leves}})}),1),_vm._v(\" \"),_c('div',{staticStyle:{\"color\":\"#999\"}},[_vm._v(\"级别一样的按时间顺序排序\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"默认显示：\"}},[_c('el-radio',{attrs:{\"label\":\"1\"},model:{value:(_vm.form.IsShow),callback:function ($$v) {_vm.$set(_vm.form, \"IsShow\", $$v)},expression:\"form.IsShow\"}},[_vm._v(\"开启\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"0\"},model:{value:(_vm.form.IsShow),callback:function ($$v) {_vm.$set(_vm.form, \"IsShow\", $$v)},expression:\"form.IsShow\"}},[_vm._v(\"关闭\")])],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"margin-top\":\"30px\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.btnLoading},on:{\"click\":_vm.submitReply}},[_vm._v(\"提交\")]),_vm._v(\" \"),(_vm.current_add)?_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('form')}}},[_vm._v(\"重置\")]):_vm._e()],1)],1),_vm._v(\" \"),_c('mall-goods',{attrs:{\"goodsShow\":_vm.goodsShow,\"isEvaluate\":true},on:{\"changeDig\":_vm.changeDig,\"sureGood\":_vm.sureGood}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b0eb9764\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/weChatManager/goodsManager/evaluate/evaluateInfo.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b0eb9764\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./evaluateInfo.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./evaluateInfo.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./evaluateInfo.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b0eb9764\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./evaluateInfo.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/weChatManager/goodsManager/evaluate/evaluateInfo.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}