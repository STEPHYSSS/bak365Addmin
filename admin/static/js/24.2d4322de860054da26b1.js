webpackJsonp([24],{"1blw":function(t,e){},K5Ze:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Xxa5"),r=n.n(a),o=n("exGp"),s=n.n(o),c=n("T+sA"),i={name:"index",components:{Del:n("mvu0").a},data:function(){return{loading:!1,listData:[],show:!1,current_index:null,current_SID:null}},created:function(){this.getList()},methods:{getList:function(){var t=this;return s()(r.a.mark(function e(){var n,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)({Action:"GetShopList"},"MShopOpera");case 3:n=e.sent,a=n.Data,t.listData=a.ShopInfoList,t.listData.forEach(function(t){t.Img=t.Img.split(","),t.State="0"!==t.State}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t.$message.error(e.t0);case 12:case"end":return e.stop()}},e,t,[[0,9]])}))()},changeEnable:function(t,e){var n=this;return s()(r.a.mark(function a(){var o,s;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o=!0===t?1:0,a.prev=1,a.next=4,Object(c.a)({Action:"SetShopState",SID:e.SID,State:o},"MShopOpera");case 4:s=a.sent,n.$message.success(s.Message),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),setTimeout(function(){e.State=!e.State},500),n.$message.error(a.t0);case 12:case"end":return a.stop()}},a,n,[[1,8]])}))()},editRowGoods:function(t){this.$router.push({path:"/weChat/manager/storeSet/info",query:{sid:t.SID}})},addGood:function(){this.$router.push("/weChat/manager/storeSet/info")},delRow:function(t,e){this.show=!0,this.current_index=e,this.current_SID=t.SID},delFunction:function(t){this.show=t},confirmEnd:function(){var t=this;return s()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)({Action:"RemoveShop",SID:t.current_SID},"MShopOpera");case 3:t.listData.splice(t.current_index,1),t.$message.success("删除成功"),t.show=!1,e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t.show=!1,t.$message.error(e.t0);case 12:case"end":return e.stop()}},e,t,[[0,8]])}))()},addPre:function(t){return t?"../"+t:""}}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-button",{staticStyle:{"margin-bottom":"20px"},attrs:{type:"primary",size:"small"},on:{click:t.addGood}},[t._v("添加门店")]),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.listData}},[n("el-table-column",{attrs:{label:"门店图片"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"goodsInfo"},[n("img",{attrs:{src:e.row.Img.length>0?t.addPre(e.row.Img[0]):"",alt:""}})])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"Name",label:"门店名称"}}),t._v(" "),n("el-table-column",{attrs:{prop:"Address",label:"门店地址"}}),t._v(" "),n("el-table-column",{attrs:{label:"门店电话"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.Tel?n("div",[t._v(t._s(e.row.Tel))]):n("div",[t._v("无")])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"启用"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-checkbox",{on:{change:function(n){return t.changeEnable(n,e.row)}},model:{value:e.row.State,callback:function(n){t.$set(e.row,"State",n)},expression:"scoped.row.State"}})]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"经纬度"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",[t._v("经度："+t._s(e.row.Longitude))]),t._v(" "),n("div",[t._v("纬度："+t._s(e.row.Latitude))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){return t.editRowGoods(e.row)}}},[t._v("编辑")]),t._v(" "),n("el-button",{attrs:{type:"text"},on:{click:function(n){return t.delRow(e.row,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),n("Del",{attrs:{show:t.show},on:{delFunction:t.delFunction,confirmEnd:t.confirmEnd}})],1)},staticRenderFns:[]};var l=n("VU/8")(i,u,!1,function(t){n("1blw")},"data-v-78d3f2a7",null);e.default=l.exports}});
//# sourceMappingURL=24.2d4322de860054da26b1.js.map