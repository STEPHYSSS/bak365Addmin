{"version":3,"sources":["webpack:///src/components/area_app/index.vue","webpack:///./src/components/area_app/TMap.js","webpack:///./src/components/area_app/index.vue?57fd","webpack:///./src/components/area_app/index.vue?d9df","webpack:///src/components/selector/storeArea.vue","webpack:///./src/components/selector/storeArea.vue?29a4","webpack:///./src/components/selector/storeArea.vue","webpack:///src/view/weChatManager/goodsManager/storeSet/addEdit.vue","webpack:///./src/view/weChatManager/goodsManager/storeSet/addEdit.vue?2912","webpack:///./src/view/weChatManager/goodsManager/storeSet/addEdit.vue?62fb"],"names":["area_app","name","props","rangeList","Array","isStore","type","Boolean","default","data","map","marker","locationC","latitude","longitude","polygonList","color","path","form","paramsForm","objParams","paramsFormList","rules","Name","required","message","trigger","loadingBtn","storeList","components","created","_this2","this","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","getStoreList","promise_default","resolve","reject","window","init","qq","script","document","createElement","src","Key","onerror","head","appendChild","then","myLatlng","maps","LatLng","myOptions","draggable","scrollwheel","zoom","center","mapTypeId","MapTypeId","ROADMAP","Map","getElementById","_this","anchor","Point","size","Size","origin","icon","MarkerImage","Marker","position","setIcon","setDraggable","Event","event","addListener","newLocation","latLng","getLat","getLng","$emit","markers","MVCArray","MarkerCluster","MarkerDecoration","createCluster","navigator","geolocation","getCurrentPosition","showPosition","error","showPositionError","enableHighAccuracy","timeout","maximumAge","alert","length","getAreaInfo","stop","methods","console","log","coords","convertor","translate","res","latlng","setCenter","setPosition","CityService","complete","result","detail","lat","lng","searchLocalCity","AddPolygon","nameNew","pathNew","polygon","Polygon","clickable","cursor","editable","fillColor","Color","strokeColor","strokeDashStyle","strokeWeight","visible","zIndex","push","addDelivery","_this3","_callee2","_longitude","_latitude","_ref","_context2","Number","$message","abrupt","assign_default","setPath","sent","CheckTicketFun","_this4","forEach","D","index","distributionRange","getPath","elems","i","coordinate","$refs","validate","valid","obj","JSON","parse","stringify_default","delIcon","setMap","splice","_this5","_callee4","_context4","_ref2","_callee3","pathList","_setPath","_context3","split","list","parseFloat","setTimeout","_x","_x2","apply","arguments","_this6","_callee5","_ref3","Data","_context5","Object","vipCard","Action","ShopInfoList","t0","bool","Math","floor","random","InfoWindow","_loop","Latitude","Longitude","label","Label","content","Address","e","target","isClustered","setVisible","markerClusterer","minimumClusterSize","zoomOnClick","gridSize","averageCenter","maxZoom","components_area_app","render","_h","$createElement","_c","_self","staticClass","staticStyle","margin-bottom","ref","margin-top","attrs","model","label-width","inline","_v","_e","text-align","margin","loading","on","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","storeArea","value","getAreaList","ProdCateList","changeType","val","selector_storeArea","_vm","placeholder","change","callback","$$v","expression","_l","item","key","SID","components_selector_storeArea","addEdit","imgLoad","areaMy","storeAreaList","Img","dialogTableVisible","gridData","currentRow","fileListUp","btnLoading","checkedType","$route","meta","query","sid","getInfo","getMendian","ShopInfo","url","upLoadImg","imgs","arr","ti","join","preserveFun","publicFunction","ShopNo","success","$router","dragendArea","$set","selectArea","dialogAreaRef","dialogVisible","AreaSID","selecStore","searchName","handleCurrentChange","sure","ShopName","Tel","Mobile","Location","storeSet_addEdit","prop","readonly","margin-left","$event","folder","upLoadImgs","title","update:visible","margin-right","width","keyup","indexOf","_k","keyCode","highlight-current-row","current-change","slot","dialogFormVisible","addEdit_Component","addEdit_normalizeComponent"],"mappings":"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","file":"static/js/8.3c39a372c3263c28ced4.js","sourcesContent":["<template>\r\n  <div class=\"area_app_style\">\r\n    <div style=\"margin-bottom:30px\">\r\n      <!-- <el-button v-if=\"!isStore\" type=\"primary\" @click=\"addDelivery\">新增配送范围</el-button> -->\r\n\r\n      <el-form\r\n        ref=\"formArea\"\r\n        :model=\"objParams\"\r\n        label-width=\"80px\"\r\n        style=\"margin-top:10px\"\r\n        :inline=\"true\"\r\n      >\r\n        <!-- <div v-for=\"(item,index) in objParams.paramsFormList\" :key=\"index\">\r\n          <el-form-item label=\"标记颜色\">\r\n            <div\r\n              class=\"marking-color\"\r\n              :style=\"`backgroundColor: rgba(${item.Color[0]}, ${item.Color[1]}, ${item.Color[2]}, 0.5)`\"\r\n            ></div>\r\n          </el-form-item>\r\n          <el-form-item label=\"范围名称\" :prop=\"'paramsFormList.'+index+'.name'\" :rules=\"rules.Name\">\r\n            <el-input v-model=\"item.name\"></el-input>\r\n            <i class=\"el-icon-delete delete-icon-style\" @click=\"delIcon(index)\"></i>\r\n          </el-form-item>\r\n        </div> -->\r\n      </el-form>\r\n      <!-- <div style=\"margin:10px\" v-if=\"!isStore\">移动红点选择画图中心点(蓝点为门店位置):</div>\r\n      <div class=\"lineBack\"></div> -->\r\n    </div>\r\n    <!-- <div id=\"container\" style=\"width:1000px;height:600px\"></div> -->\r\n\r\n    <div style=\"text-align:center;margin-top:20px\" v-if=\"!isStore\">\r\n      <el-button\r\n        style=\"margin:20px\"\r\n        type=\"primary\"\r\n        @click=\"CheckTicketFun\"\r\n        :loading=\"loadingBtn\"\r\n      >提 交</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { TMap } from \"./TMap\";\r\nimport { getLists } from \"@/api/vipCard\";\r\n\r\nexport default {\r\n  name: \"\",\r\n  props: {\r\n    rangeList: Array,\r\n    // 是否是门店点击进来的\r\n    isStore: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      map: \"\",\r\n      marker: \"\",\r\n      locationC: {\r\n        latitude: 39.916527,\r\n        longitude: 116.397128\r\n      },\r\n      polygonList: [],\r\n      color: [],\r\n      path: [],\r\n      form: {\r\n        latitude: \"\", //纬度\r\n        longitude: \"\"\r\n      },\r\n      paramsForm: {},\r\n      objParams: {\r\n        paramsFormList: []\r\n      },\r\n      rules: {\r\n        Name: [{ required: true, message: \"请输入\", trigger: \"blur\" }]\r\n      },\r\n      loadingBtn: false,\r\n      storeList: []\r\n    };\r\n  },\r\n  // created() {\r\n  // $(function() {\r\n  //   try {\r\n  //     init();\r\n  //   } catch (e) {\r\n  //     alert(\"浏览器加载地图失败，请刷新页面重试\");\r\n  //   }\r\n  // });\r\n  // },\r\n  components: {},\r\n  async created() {\r\n    if (!this.isStore) {\r\n      await this.getStoreList();\r\n    }\r\n    await TMap().then(qq => {\r\n      let myLatlng = new qq.maps.LatLng(39.982163, 116.30607);\r\n      let myOptions = {\r\n        draggable: true,\r\n        scrollwheel: true,\r\n        zoom: 13, //设置地图缩放级别\r\n        center: myLatlng, //设置中心点样式\r\n        mapTypeId: qq.maps.MapTypeId.ROADMAP //设置地图样式详情参见MapType\r\n      };\r\n      var map = new qq.maps.Map(\r\n        document.getElementById(\"container\"),\r\n        myOptions\r\n      );\r\n      this.map = map;\r\n      let _this = this;\r\n      var anchor = new qq.maps.Point(22, 44),  \r\n        size = new qq.maps.Size(44, 44),\r\n        origin = new qq.maps.Point(0, 0),\r\n        icon = new qq.maps.MarkerImage(\r\n          \"static/img/activeIcon.png\",\r\n          size,\r\n          origin,\r\n          anchor\r\n        );\r\n      this.Marker = qq.maps.Marker;\r\n      var marker = new this.Marker({\r\n        position: myLatlng,\r\n        map: _this.map\r\n      });\r\n      this.marker = marker;\r\n      marker.setIcon(icon);\r\n      marker.setDraggable(true);\r\n      this.Event = qq.maps.event;\r\n\r\n      this.Event.addListener(marker, \"dragend\", function(event) {\r\n        //可移动的中心点坐标\r\n        let newLocation = {\r\n          latitude: event.latLng.getLat(),\r\n          longitude: event.latLng.getLng()\r\n        };\r\n        _this.locationC = {\r\n          latitude: event.latLng.getLat(),\r\n          longitude: event.latLng.getLng()\r\n        };\r\n        _this.$emit(\"dragendArea\", newLocation);\r\n      });\r\n\r\n      //设置聚合点\r\n      this.markers = new qq.maps.MVCArray();\r\n      this.MarkerCluster = qq.maps.MarkerCluster;\r\n      this.LatLng = qq.maps.LatLng;\r\n      this.MarkerDecoration = qq.maps.MarkerDecoration;\r\n      this.Point = qq.maps.Point;\r\n      createCluster(this);\r\n\r\n      if (navigator.geolocation) {\r\n        //获取当前浏览器定位\r\n        var options = {\r\n          enableHighAccuracy: false,\r\n          timeout: 10,\r\n          maximumAge: 1000 * 60 * 60 * 24\r\n        };\r\n        navigator.geolocation.getCurrentPosition(\r\n          position => {\r\n            this.showPosition(position);\r\n          },\r\n          error => {\r\n            this.showPositionError(error);\r\n          },\r\n          options\r\n        );\r\n      } else {\r\n        alert(\"浏览器不支持定位\");\r\n      }\r\n      if (this.rangeList && this.rangeList.length > 0) {\r\n        this.getAreaInfo();\r\n      }\r\n    });\r\n  },\r\n  methods: {\r\n    //获取地理位置\r\n    showPosition(position) {\r\n      console.log(position, \"获取到浏览器位置\");\r\n      this.locationC = {\r\n        latitude: position.coords.latitude,\r\n        longitude: position.coords.longitude\r\n      };\r\n\r\n      let _this = this;\r\n      //调用地图命名空间中的转换接口   type的可选值为 1:GPS经纬度，2:搜狗经纬度，3:百度经纬度，4:mapbar经纬度，5:google经纬度，6:搜狗墨卡托\r\n      qq.maps.convertor.translate(\r\n        new qq.maps.LatLng(latitude, longitude),\r\n        1,\r\n        function(res) {\r\n          //取出经纬度并且赋值\r\n          let latlng = res[0];\r\n          _this.map.setCenter(latlng);\r\n          _this.marker.setPosition(latlng);\r\n        }\r\n      );\r\n    },\r\n    //定位失败\r\n    showPositionError(error) {\r\n      console.log(error, \"error\");\r\n      let _this = this;\r\n      //获取城市列表接口设置中心点\r\n      let citylocation = new qq.maps.CityService({\r\n        complete: function(result) {\r\n          _this.locationC = {\r\n            latitude: result.detail.latLng.lat,\r\n            longitude: result.detail.latLng.lng\r\n          };\r\n          _this.map.setCenter(result.detail.latLng);\r\n          _this.marker.setPosition(result.detail.latLng);\r\n        }\r\n      });\r\n      //调用searchLocalCity();方法    根据用户IP查询城市信息。\r\n      citylocation.searchLocalCity();\r\n    },\r\n    //添加多边形地图\r\n    AddPolygon(color, nameNew, pathNew) {\r\n      let _this = this;\r\n      _this.color = color ? color : _this.color;\r\n\r\n      var polygon = new qq.maps.Polygon({\r\n        //多边形是否可点击。\r\n        clickable: true,\r\n\r\n        //鼠标在多边形内的光标样式。\r\n        cursor: \"crosshair\",\r\n\r\n        //多边形是否可编辑。\r\n        editable: true,\r\n\r\n        //多边形的填充色，可通过Color对象的alpha属性设置透明度。\r\n        fillColor: new qq.maps.Color(\r\n          _this.color[0],\r\n          _this.color[1],\r\n          _this.color[2],\r\n          0.5\r\n        ),\r\n\r\n        //要显示多边形的地图。\r\n        map: _this.map,\r\n\r\n        //多边形的路径，以经纬度坐标数组构成。\r\n        path: pathNew ? pathNew : _this.path,\r\n\r\n        //多边形的线条颜色，可通过Color对象的alpha属性设置透明度。\r\n        strokeColor: new qq.maps.Color(\r\n          _this.color[0],\r\n          _this.color[1],\r\n          _this.color[2]\r\n        ),\r\n\r\n        //多边形的边框样式。实线是solid，虚线是dash。\r\n        strokeDashStyle: \"solid\",\r\n\r\n        //多边形的边框线宽。\r\n        strokeWeight: 4,\r\n\r\n        //多边形是否可见。\r\n        visible: true,\r\n\r\n        //多边形的zIndex值。\r\n        zIndex: 1000\r\n      });\r\n      this.map.setCenter(\r\n        new qq.maps.LatLng(_this.locationC.latitude, _this.locationC.longitude)\r\n      );\r\n\r\n      this.polygonList.push(polygon);\r\n      this.objParams.paramsFormList.push({\r\n        name: nameNew ? nameNew : \"\",\r\n        Color: this.color\r\n      });\r\n    },\r\n    async addDelivery() {\r\n      if (this.form.latitude && this.form.longitude) {\r\n        let longitude = Number(this.form.longitude);\r\n        let latitude = Number(this.form.latitude);\r\n        if (longitude < -180 || longitude > 180) {\r\n          this.$message(\"经度输入有误，经度范围：-180~180\");\r\n          return;\r\n        }\r\n        if (latitude < -90 || latitude > 90) {\r\n          this.$message(\"纬度输入有误，纬度范围：-90~90\");\r\n          return;\r\n        }\r\n        Object.assign(this.locationC, this.form);\r\n      }\r\n      if (!this.locationC.latitude || !this.locationC.longitude) {\r\n        this.$message(\"获取定位失败，请填写经纬度\");\r\n        return;\r\n      }\r\n\r\n      let { color, path } = await setPath(this);\r\n      this.color = color;\r\n      this.path = path;\r\n\r\n      await this.AddPolygon();\r\n    },\r\n    CheckTicketFun() {\r\n      // console.log(this.polygonList, \"this.polygonList\");\r\n      if (this.objParams.paramsFormList.length > 0) {\r\n        this.polygonList.forEach((D, index) => {\r\n          let distributionRange = \"\";\r\n          D.getPath().elems.forEach((data, i) => {\r\n            if (i > 0) distributionRange += \";\";\r\n            distributionRange += data.lng + \",\" + data.lat;\r\n          });\r\n          this.objParams.paramsFormList[index].coordinate = distributionRange;\r\n        });\r\n      }\r\n\r\n      this.$refs[\"formArea\"].validate(valid => {\r\n        \r\n        if (valid) {\r\n          let obj = JSON.parse(JSON.stringify(this.objParams.paramsFormList));\r\n          obj.forEach(D => {\r\n            delete D.Color;\r\n          });\r\n          console.log(obj, \"paramsFormList\");\r\n          // return;\r\n          this.$emit(\"CheckTicketFun\", obj);\r\n        } else {\r\n          this.$message(\"请输入范围名称\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    delIcon(index) {\r\n      this.polygonList[index].setMap(null);\r\n      this.polygonList.splice(index, 1);\r\n      this.objParams.paramsFormList.splice(index, 1);\r\n    },\r\n    async getAreaInfo() {\r\n      // 获取详情\r\n\r\n      this.rangeList.forEach(async (D, index) => {\r\n        let pathList = [];\r\n\r\n        var distributionRangeData = D.coordinate.split(\";\");\r\n        distributionRangeData.forEach(data => {\r\n          let list = data.split(\",\");\r\n          pathList.push(\r\n            new qq.maps.LatLng(parseFloat(list[1]), parseFloat(list[0]))\r\n          );\r\n        });\r\n        let { color, path } = setPath(this, true);\r\n        // console.log(color,'color')\r\n\r\n        setTimeout(() => {\r\n          this.AddPolygon(color, D.name, pathList);\r\n        }, 1000);\r\n      });\r\n    },\r\n    async getStoreList() {\r\n      try {\r\n        let { Data } = await getLists({ Action: \"GetShopList\" }, \"MShopOpera\");\r\n        this.storeList = Data.ShopInfoList;\r\n      } catch (e) {\r\n        this.$message.error(e);\r\n      }\r\n    }\r\n  }\r\n};\r\nfunction setPath(_this, bool) {\r\n  let color = [];\r\n  color.push(Math.floor(Math.random() * 256));\r\n  color.push(Math.floor(Math.random() * 256));\r\n  color.push(Math.floor(Math.random() * 256));\r\n\r\n  if (bool) {\r\n    return { color };\r\n  }\r\n  let path = [\r\n    new qq.maps.LatLng(\r\n      parseFloat(_this.locationC.latitude) + 0.01,\r\n      parseFloat(_this.locationC.longitude) - 0.015\r\n    ),\r\n    new qq.maps.LatLng(\r\n      parseFloat(_this.locationC.latitude) + 0.01,\r\n      parseFloat(_this.locationC.longitude) + 0.015\r\n    ),\r\n    new qq.maps.LatLng(\r\n      parseFloat(_this.locationC.latitude) - 0.01,\r\n      parseFloat(_this.locationC.longitude) + 0.015\r\n    ),\r\n    new qq.maps.LatLng(\r\n      parseFloat(_this.locationC.latitude) - 0.01,\r\n      parseFloat(_this.locationC.longitude) - 0.015\r\n    )\r\n  ];\r\n  return { color, path };\r\n}\r\n\r\nfunction RetainNum(val) {\r\n  if (!val) {\r\n    return val;\r\n  }\r\n  val = Number(val);\r\n  return val.toFixed(6);\r\n}\r\n\r\nfunction createCluster(_this) {\r\n  var info = new qq.maps.InfoWindow({\r\n    map: _this.map\r\n  });\r\n  for (let i = 0; i < _this.storeList.length; i++) {\r\n    var latLng;\r\n\r\n    latLng = new _this.LatLng(_this.storeList[i].Latitude, _this.storeList[i].Longitude);\r\n    var decoration = new _this.MarkerDecoration(i, new _this.Point(0, -5));\r\n    var marker = new _this.Marker({\r\n      position: latLng,\r\n      map: _this.map\r\n    });\r\n\r\n    // _this.Event.addListener(marker, \"click\", function(e) {\r\n    //   info.open();\r\n    //   info.setContent(\r\n    //     '<div style=\"text-align:center;white-space:nowrap;' +\r\n    //       'margin:10px;\">单击标记</div>'\r\n    //   );\r\n    //   info.setPosition(new qq.maps.LatLng(e.latLng.lat, e.latLng.lng));\r\n    // });\r\n\r\n    let label = new qq.maps.Label({\r\n      position: latLng,\r\n      map: _this.map,\r\n      content: _this.storeList[i].Name+'('+_this.storeList[i].Address+')'\r\n    });\r\n    _this.Event.addListener(marker, \"map_changed\", function(e) {\r\n      if (e.target.isClustered) {\r\n        label.setVisible(false);\r\n      } else {\r\n        label.setVisible(true);\r\n      }\r\n    });\r\n    _this.markers.push(marker);\r\n  }\r\n\r\n  _this.markerClusterer = new _this.MarkerCluster({\r\n    map: _this.map,\r\n    minimumClusterSize: 2, //默认2\r\n    markers: _this.markers,\r\n    zoomOnClick: true, //默认为true\r\n    gridSize: 30, //默认60\r\n    averageCenter: true, //默认false\r\n    maxZoom: 18 //默认18,\r\n  });\r\n\r\n  // _this.Event.addListener(_this.markerClusterer, \"clustermouseover\", function(\r\n  //   evt\r\n  // ) {\r\n  // writeLog(\"mouse event\", eventType);\r\n  //   var ss = evt;\r\n  //   alert(\"点击了聚合点\");\r\n  // });\r\n}\r\n</script>\r\n\r\n\r\n<style lang=\"less\" scoped>\r\n.area_app_style {\r\n  // .el-form-item {\r\n  //   margin-bottom: 11px;\r\n  // }\r\n  .el-input {\r\n    width: 280px;\r\n  }\r\n  .marking-color {\r\n    width: 30px;\r\n    height: 30px;\r\n    border: 1px solid #6e6e6e;\r\n  }\r\n  .delete-icon-style {\r\n    margin-left: 60px;\r\n    font-size: 16px;\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/area_app/index.vue","import { Key } from '@/config'\r\nexport function TMap() {\r\n     return new Promise(function (resolve, reject) {\r\n          window.init = function () {\r\n               resolve(qq)//注意这里\r\n          }\r\n          var script = document.createElement(\"script\");\r\n          script.type = \"text/javascript\";\r\n          script.src = \"http://map.qq.com/api/js?v=2.exp&callback=init&key=\" + Key;\r\n          script.onerror = reject;\r\n          document.head.appendChild(script);\r\n     })\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/area_app/TMap.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"area_app_style\"},[_c('div',{staticStyle:{\"margin-bottom\":\"30px\"}},[_c('el-form',{ref:\"formArea\",staticStyle:{\"margin-top\":\"10px\"},attrs:{\"model\":_vm.objParams,\"label-width\":\"80px\",\"inline\":true}})],1),_vm._v(\" \"),(!_vm.isStore)?_c('div',{staticStyle:{\"text-align\":\"center\",\"margin-top\":\"20px\"}},[_c('el-button',{staticStyle:{\"margin\":\"20px\"},attrs:{\"type\":\"primary\",\"loading\":_vm.loadingBtn},on:{\"click\":_vm.CheckTicketFun}},[_vm._v(\"提 交\")])],1):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7203d92e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/area_app/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7203d92e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7203d92e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7203d92e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/area_app/index.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class>\r\n    <!-- 门店区域下拉列表 -->\r\n    <el-select v-model=\"value\" placeholder=\"请选择\" @change=\"changeType\">\r\n      <el-option v-for=\"item in list\" :key=\"item.SID\" :label=\"item.Name\" :value=\"item.SID\"></el-option>\r\n    </el-select>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getLists } from \"@/api/vipCard\";\r\nexport default {\r\n  name: \"\",\r\n  data() {\r\n    return {\r\n      list: [],\r\n      value: \"\"\r\n    };\r\n  },\r\n  components: {},\r\n  created() {\r\n    if (this.list.length === 0) {\r\n      this.getAreaList();\r\n    }\r\n  },\r\n  methods: {\r\n    async getAreaList() {\r\n      // 门店区域\r\n      try {\r\n        let { Data } = await getLists({ Action: \"GetAreaList\" }, \"MShopOpera\");\r\n        this.list = Data.ProdCateList;\r\n      } catch (e) {\r\n        this.$message.error(e);\r\n      }\r\n    },\r\n    changeType(val) {\r\n      this.$emit(\"changeType\", val);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/selector/storeArea.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.changeType},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},_vm._l((_vm.list),function(item){return _c('el-option',{key:item.SID,attrs:{\"label\":item.Name,\"value\":item.SID}})}),1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e2073890\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/selector/storeArea.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e2073890\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./storeArea.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./storeArea.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./storeArea.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e2073890\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./storeArea.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e2073890\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/selector/storeArea.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"storeSet\">\r\n    <!-- 新增门店，门店编辑 -->\r\n    <el-form ref=\"form\" :model=\"form\" label-width=\"150px\" :rules=\"rules\">\r\n      <el-form-item label=\"门店\" prop=\"ShopNo\">\r\n        <el-input v-model=\"form.ShopNo\" :readonly=\"true\" placeholder=\"请选择门店\"></el-input>\r\n        <el-button\r\n          type=\"primary\"\r\n          style=\"margin-left:10px\"\r\n          size=\"medium\"\r\n          @click=\"selecStore(null)\"\r\n          v-if=\"!$route.query.sid\"\r\n        >选择门店</el-button>\r\n      </el-form-item>\r\n      <el-form-item label=\"门店区域：\" prop=\"AreaSID\">\r\n        <storeAreaList @changeType=\"changeType\"></storeAreaList>\r\n      </el-form-item>\r\n      <el-form-item label=\"门店名称：\" prop=\"Name\">\r\n        <el-input v-model=\"form.Name\" placeholder=\"请输入内容\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"门店地址：\" prop=\"Address\">\r\n        <el-input v-model=\"form.Address\" placeholder=\"请输入内容\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"门店电话：\" prop=\"Tel\">\r\n        <el-input v-model=\"form.Tel\" placeholder=\"请输入内容\"></el-input>\r\n      </el-form-item>\r\n\r\n      <!-- <el-form-item label=\"支持配送：\" prop=\"Type\">\r\n        <el-checkbox v-model=\"checkedType\"></el-checkbox>\r\n      </el-form-item>-->\r\n      <el-form-item label=\"经度：\" prop=\"Longitude\">\r\n        <el-input v-model=\"form.Longitude\" :readonly=\"true\" placeholder=\"请输入内容\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"纬度：\" prop=\"Latitude\">\r\n        <el-input v-model=\"form.Latitude\" :readonly=\"true\" placeholder=\"请输入内容\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"门店图片：\">\r\n        <imgLoad\r\n          style=\"margin-top:10px\"\r\n          @upLoadImgs=\"upLoadImg\"\r\n          :fileListUp=\"fileListUp\"\r\n          folder=\"ShopImg\"\r\n          ref=\"imgLoad\"\r\n        ></imgLoad>\r\n      </el-form-item>\r\n      <!-- <el-form-item>\r\n        <div>可移动选择经纬度</div>\r\n        <areaMy :isStore=\"true\" @dragendArea=\"dragendArea\"></areaMy>\r\n      </el-form-item> -->\r\n    </el-form>\r\n    <el-dialog title=\"门店列表\" :visible.sync=\"dialogTableVisible\">\r\n      <div style=\"margin-bottom: 20px;text-align: center;\">\r\n        <span>名称搜索</span>\r\n        <el-input\r\n          v-model=\"Name\"\r\n          placeholder=\"请输入\"\r\n          @keyup.enter=\"searchName\"\r\n          style=\"margin-right:10px;width:180px\"\r\n        ></el-input>\r\n        <el-button type=\"primary\" @click=\"searchName\">搜索</el-button>\r\n      </div>\r\n      <el-table :data=\"gridData\" highlight-current-row @current-change=\"handleCurrentChange\">\r\n        <el-table-column prop=\"ShopName\" label=\"名称\" width=\"150\"></el-table-column>\r\n        <el-table-column prop=\"ShopNo\" label=\"门店编号\" width=\"200\"></el-table-column>\r\n        <el-table-column prop=\"Mobile\" label=\"电话\"></el-table-column>\r\n        <el-table-column prop=\"Address\" label=\"地址\"></el-table-column>\r\n      </el-table>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"sure\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <div class=\"preserveStyle\">\r\n      <el-button\r\n        type=\"primary\"\r\n        style=\"margin-left:20px\"\r\n        @click=\"preserveFun\"\r\n        :loading=\"btnLoading\"\r\n      >提交</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport imgLoad from \"@/components/download/imgLoad\";\r\nimport { getLists } from \"@/api/vipCard\";\r\nimport { replacePre } from \"@/config/publicFunction\";\r\nimport areaMy from \"@/components/area_app\";\r\nimport storeAreaList from \"@/components/selector/storeArea\";\r\n\r\nexport default {\r\n  name: \"edit\",\r\n  components: { imgLoad, areaMy, storeAreaList },\r\n  data() {\r\n    return {\r\n      form: {\r\n        Img: []\r\n      },\r\n      dialogTableVisible: false,\r\n      gridData: [], //门店列表\r\n      Name: \"\", //搜索门店\r\n      currentRow: null,\r\n      rules: {\r\n        Name: [{ required: true, message: \"请填写门店名称\", trigger: \"blur\" }],\r\n        // Address: [\r\n        //   { required: true, message: \"请填写门店地址\", trigger: \"blur\" }\r\n        // ],\r\n        // Tel: [{ required: true, message: \"请填写门店电话\", trigger: \"blur\" }],\r\n        // AreaSID: [\r\n        //   {\r\n        //     required: true,\r\n        //     message: \"请填写门店区域\",\r\n        //     trigger: \"change\",\r\n        //     validator: (rules, value, callback) => {\r\n        //       if (!value) {\r\n        //         callback(new Error(\"请填写门店区域\"));\r\n        //       } else {\r\n        //         callback();\r\n        //       }\r\n        //     }\r\n        //   }\r\n        // ],\r\n        // Longitude: [{ required: true, message: \"请填写经度\", trigger: \"blur\" }],\r\n        // Latitude: [{ required: true, message: \"请填写纬度\", trigger: \"blur\" }]\r\n      },\r\n      fileListUp: [],\r\n      btnLoading: false,\r\n      checkedType: true\r\n    };\r\n  },\r\n  created() {\r\n    this.$route.meta.label = \"添加门店\";\r\n    if (this.$route.query.sid) {\r\n      this.getInfo();\r\n    }\r\n  },\r\n  methods: {\r\n    async getMendian() {\r\n      try {\r\n        let { Data } = await getLists(\r\n          { Action: \"GetEntShopList\", Name: this.Name },\r\n          \"MShopOpera\"\r\n        );\r\n        this.gridData = Data.ShopInfoList;\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    },\r\n    async getInfo() {\r\n      try {\r\n        let { Data } = await getLists(\r\n          { Action: \"GetShop\", SID: this.$route.query.sid },\r\n          \"MShopOpera\"\r\n        );\r\n        this.form = Data.ShopInfo;\r\n        // if (this.form.Type) {\r\n        //   this.checkedType = this.form.Type.indexOf(\"2\") > -1 ? true : false;\r\n        // }\r\n        this.fileListUp = this.form.Img\r\n          ? [{ url: process.env.Prefix + this.form.Img }]\r\n          : [];\r\n      } catch (e) {\r\n        this.$message.error(e);\r\n      }\r\n    },\r\n    upLoadImg(imgs) {\r\n      let arr = [];\r\n      let ti = imgs;\r\n      for (let i = 0; i < ti.length; i++) {\r\n        arr.push(ti[i].url);\r\n      }\r\n      this.form.Img = arr.join(\",\");\r\n    },\r\n    preserveFun() {\r\n      // if (!this.form.Img || this.form.Img.length === 0) {\r\n      //   this.$message.info(\"上传门店图片\");\r\n      //   return;\r\n      // }\r\n      this.$refs.form.validate(async valid => {\r\n        // SID与Shop值不共存，确保数据准确；新增传值Shop，SID为空；编辑传值SID，ShopNo为空\r\n        if (valid) {\r\n          if (this.form.Img) {\r\n            this.form.Img = replacePre(this.form, \"Img\");\r\n          }\r\n          if (this.$route.query.sid) {\r\n            this.form.ShopNo = \"\";\r\n          }\r\n          // this.form.Type = this.checkedType ? \"1,2\" : \"1\";\r\n          let obj = {\r\n            Action: \"SetShop\"\r\n          };\r\n          Object.assign(obj, this.form);\r\n          this.btnLoading = true;\r\n          try {\r\n            await getLists(obj, \"MShopOpera\");\r\n            this.$message.success(\"提交成功\");\r\n            this.$router.push(\"/weChat/manager/storeSet/index\");\r\n            this.btnLoading = false;\r\n          } catch (e) {\r\n            this.btnLoading = false;\r\n            this.$message.error(e);\r\n          }\r\n        } else {\r\n          // return false;\r\n        }\r\n      });\r\n    },\r\n    dragendArea(val) {\r\n      this.$set(this.form, \"Longitude\", val.longitude);\r\n      this.$set(this.form, \"Latitude\", val.latitude);\r\n    },\r\n    selectArea() {\r\n      this.$refs.dialogAreaRef.dialogVisible = true;\r\n    },\r\n    changeType(val) {\r\n      this.form.AreaSID = val;\r\n    },\r\n    // 点击选择门店\r\n    selecStore() {\r\n      this.dialogTableVisible = true;\r\n      this.getMendian();\r\n    },\r\n    //搜索\r\n    searchName() {\r\n      this.getMendian();\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.currentRow = val;\r\n    },\r\n    sure() {\r\n      this.form.ShopNo = this.currentRow.ShopNo;\r\n      this.form.Name = this.currentRow.ShopName;\r\n      this.form.Tel = this.currentRow.Mobile;\r\n      this.form.Address = this.currentRow.Address;\r\n      this.form.Longitude = this.currentRow.Location.split(\",\")[0];\r\n      this.form.Latitude = this.currentRow.Location.split(\",\")[1];\r\n      this.dialogTableVisible = false;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.storeSet {\r\n  .el-input {\r\n    width: 300px;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/weChatManager/goodsManager/storeSet/addEdit.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"storeSet\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"150px\",\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"门店\",\"prop\":\"ShopNo\"}},[_c('el-input',{attrs:{\"readonly\":true,\"placeholder\":\"请选择门店\"},model:{value:(_vm.form.ShopNo),callback:function ($$v) {_vm.$set(_vm.form, \"ShopNo\", $$v)},expression:\"form.ShopNo\"}}),_vm._v(\" \"),(!_vm.$route.query.sid)?_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"primary\",\"size\":\"medium\"},on:{\"click\":function($event){return _vm.selecStore(null)}}},[_vm._v(\"选择门店\")]):_vm._e()],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"门店区域：\",\"prop\":\"AreaSID\"}},[_c('storeAreaList',{on:{\"changeType\":_vm.changeType}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"门店名称：\",\"prop\":\"Name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\"},model:{value:(_vm.form.Name),callback:function ($$v) {_vm.$set(_vm.form, \"Name\", $$v)},expression:\"form.Name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"门店地址：\",\"prop\":\"Address\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\"},model:{value:(_vm.form.Address),callback:function ($$v) {_vm.$set(_vm.form, \"Address\", $$v)},expression:\"form.Address\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"门店电话：\",\"prop\":\"Tel\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\"},model:{value:(_vm.form.Tel),callback:function ($$v) {_vm.$set(_vm.form, \"Tel\", $$v)},expression:\"form.Tel\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"经度：\",\"prop\":\"Longitude\"}},[_c('el-input',{attrs:{\"readonly\":true,\"placeholder\":\"请输入内容\"},model:{value:(_vm.form.Longitude),callback:function ($$v) {_vm.$set(_vm.form, \"Longitude\", $$v)},expression:\"form.Longitude\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"纬度：\",\"prop\":\"Latitude\"}},[_c('el-input',{attrs:{\"readonly\":true,\"placeholder\":\"请输入内容\"},model:{value:(_vm.form.Latitude),callback:function ($$v) {_vm.$set(_vm.form, \"Latitude\", $$v)},expression:\"form.Latitude\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"门店图片：\"}},[_c('imgLoad',{ref:\"imgLoad\",staticStyle:{\"margin-top\":\"10px\"},attrs:{\"fileListUp\":_vm.fileListUp,\"folder\":\"ShopImg\"},on:{\"upLoadImgs\":_vm.upLoadImg}})],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"门店列表\",\"visible\":_vm.dialogTableVisible},on:{\"update:visible\":function($event){_vm.dialogTableVisible=$event}}},[_c('div',{staticStyle:{\"margin-bottom\":\"20px\",\"text-align\":\"center\"}},[_c('span',[_vm._v(\"名称搜索\")]),_vm._v(\" \"),_c('el-input',{staticStyle:{\"margin-right\":\"10px\",\"width\":\"180px\"},attrs:{\"placeholder\":\"请输入\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchName($event)}},model:{value:(_vm.Name),callback:function ($$v) {_vm.Name=$$v},expression:\"Name\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.searchName}},[_vm._v(\"搜索\")])],1),_vm._v(\" \"),_c('el-table',{attrs:{\"data\":_vm.gridData,\"highlight-current-row\":\"\"},on:{\"current-change\":_vm.handleCurrentChange}},[_c('el-table-column',{attrs:{\"prop\":\"ShopName\",\"label\":\"名称\",\"width\":\"150\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ShopNo\",\"label\":\"门店编号\",\"width\":\"200\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"Mobile\",\"label\":\"电话\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"Address\",\"label\":\"地址\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.sure}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"preserveStyle\"},[_c('el-button',{staticStyle:{\"margin-left\":\"20px\"},attrs:{\"type\":\"primary\",\"loading\":_vm.btnLoading},on:{\"click\":_vm.preserveFun}},[_vm._v(\"提交\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6e77f672\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/weChatManager/goodsManager/storeSet/addEdit.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6e77f672\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./addEdit.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./addEdit.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./addEdit.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6e77f672\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./addEdit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6e77f672\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/weChatManager/goodsManager/storeSet/addEdit.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}