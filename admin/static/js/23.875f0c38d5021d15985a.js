webpackJsonp([23],{"5Zcv":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("vhW1"),n=r("b6ye"),s={name:"vipGrant",components:{cardNames:a.a,couponNames:n.a},data:function(){var e=this;return{form:{},rules:{name:[{required:!0,trigger:"change",validator:function(t,r,a){e.form.name?a():a(new Error("请选择会员卡名称"))}}],type:[{required:!0,trigger:"change",validator:function(t,r,a){e.valueScreenType?a():a(new Error("请选择筛选类型"))}}],card:[{required:!0,trigger:"blur",validator:function(e,t,r){t?r():r(new Error("请填写微卡卡号"))}}]},ScreenTypeList:[{name:"微卡卡号",id:1},{name:"全部微卡用户",id:2}],valueScreenType:"",showProgress:!1,percentage:25,percentageStatus:null,time:0}},computed:{currentRoute:function(){return"/wechatCard/Coupon/grant"===this.$route.path||!1}},methods:{changeValue:function(e){this.currentRoute||(this.form.name=e)},grant:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;e.showProgress=!0,e.percentage=25,e.percentageStatus=null,e.$message.closeAll(),e.$message({showClose:!0,message:"会员卡发送中，请耐心等待...",duration:e.time}),setTimeout(function(){e.percentageStatus="success",e.percentage=100,e.$message.closeAll(),e.$message({showClose:!0,message:"会员卡发送完毕...",type:"success"})},3e3)})}}},o={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"vipGrant"},[r("div",{staticClass:"vipGrantHead"},[r("h5",[e._v(e._s(e.currentRoute?"发放优惠券":"发放会员卡"))]),e._v(" "),r("span",[e._v(e._s("根据筛选条件给符合条件的用户发放微信"+(e.currentRoute?"优惠券":"会员卡")))])]),e._v(" "),r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"200px",rules:e.rules}},[e.currentRoute?e._e():r("el-form-item",{attrs:{label:"会员卡名称",prop:"name"}},[r("cardNames",{attrs:{isAll:!1},on:{changeValue:e.changeValue}})],1),e._v(" "),e.currentRoute?r("el-form-item",{attrs:{label:"优惠券名称",prop:"name"}},[r("couponNames")],1):e._e(),e._v(" "),r("el-form-item",{attrs:{label:"筛选类型",prop:"type"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.valueScreenType,callback:function(t){e.valueScreenType=t},expression:"valueScreenType"}},e._l(e.ScreenTypeList,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),2!==e.valueScreenType?r("el-form-item",{attrs:{label:"微卡卡号",prop:"card"}},[r("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.card,callback:function(t){e.$set(e.form,"card",t)},expression:"form.card"}}),e._v(" "),r("br"),e._v(" "),r("span",{staticStyle:{color:"red"}},[e._v("(多个微卡卡号请用','分开)")])],1):e._e(),e._v(" "),e.showProgress?r("el-form-item",{attrs:{label:"当前发送进度",prop:"type"}},[r("el-progress",{attrs:{"text-inside":!0,"stroke-width":30,percentage:e.percentage,status:e.percentageStatus}})],1):e._e(),e._v(" "),r("el-footer",{staticStyle:{"margin-top":"40px"}},[r("el-button",{attrs:{type:"primary"},on:{click:e.grant}},[e._v("发放")]),e._v(" "),r("el-button",{attrs:{type:"danger"}},[e._v("统计")])],1)],1)],1)},staticRenderFns:[]};var l=r("VU/8")(s,o,!1,function(e){r("JBfn")},null,null);t.default=l.exports},JBfn:function(e,t){}});
//# sourceMappingURL=23.875f0c38d5021d15985a.js.map